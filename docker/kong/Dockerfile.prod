# Kong API Gateway - Production Dockerfile
FROM kong:3.3.0-alpine

# Copy custom configuration
COPY ./config/kong.yml /usr/local/kong/declarative/kong.yml

# Healthcheck to verify Kong is running properly
HEALTHCHECK --interval=10s --timeout=10s --retries=10 CMD kong health

EXPOSE 8000 8001 8443 8444

CMD ["kong", "docker-start"]